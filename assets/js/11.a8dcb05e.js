(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{479:function(t,e,s){"use strict";s.r(e);var a=s(42),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"pour-commencer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pour-commencer"}},[t._v("#")]),t._v(" Pour commencer")]),t._v(" "),s("div",{staticClass:"scrimba"},[s("a",{attrs:{href:"https://scrimba.com/p/pnyzgAP/cMPa2Uk",target:"_blank",rel:"noopener noreferrer"}},[t._v("Essayez cette partie sur Scrimba (EN)")])]),t._v(" "),s("p",[t._v("Au cœur de chaque application Vuex, il y a la "),s("strong",[t._v("zone de stockage (« store »)")]),t._v(". Un « store » est tout simplement un conteneur avec l'"),s("strong",[t._v("état (« state »)")]),t._v(" de votre application. Il y a deux choses qui différencient un store Vuex d'un simple objet global :")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("Les stores Vuex sont réactifs. Quand les composants Vue y récupèrent l'état, ils se mettront à jour de façon réactive et efficace si l'état du store a changé.")])]),t._v(" "),s("li",[s("p",[t._v("Vous ne pouvez pas muter directement l'état du store. La seule façon de modifier l'état d'un store est d'"),s("strong",[t._v("acter (« commit »)")]),t._v(" explicitement des "),s("strong",[t._v("mutations")]),t._v(". Cela assure que chaque état laisse un enregistrement traçable, et permet à des outils de nous aider à mieux appréhender nos applications.")])])]),t._v(" "),s("h3",{attrs:{id:"le-store-le-plus-simple"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#le-store-le-plus-simple"}},[t._v("#")]),t._v(" Le store le plus simple")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),s("p",[t._v("Nous allons utiliser la syntaxe ES2015 dans les exemples de code pour le reste de la documentation. Si vous ne vous êtes pas encore penché dessus, "),s("a",{attrs:{href:"https://babeljs.io/docs/learn-es2015/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vous devriez"),s("OutboundLink")],1),t._v(" !")])]),t._v(" "),s("p",[t._v("Après "),s("RouterLink",{attrs:{to:"/fr/installation.html"}},[t._v("avoir installé")]),t._v(" Vuex, nous allons créer un store. C'est assez simple ; définissez juste un objet d'état initial et quelques mutations :")],1),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Assurez vous d'appeler `Vue.use(Vuex)` en premier lieu si vous utilisez un système de module")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vuex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Store")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  state"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  mutations"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Maintenant, vous pouvez accéder à l'objet d'état avec "),s("code",[t._v("store.state")]),t._v(", et déclencher un changement d'état avec la méthode "),s("code",[t._v("store.commit")]),t._v(" :")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -> 1")]),t._v("\n")])])]),s("p",[t._v("Encore une fois, la raison pour laquelle nous actons une mutation au lieu de modifier "),s("code",[t._v("store.state.count")]),t._v(" directement, c'est parce que nous voulons le tracer explicitement. Cette simple convention rend votre intention plus explicite, ainsi vous pouvez raisonner plus facilement les changements d'état en lisant votre code. De plus, cela nous donne l'opportunité d'implémenter des outils qui peuvent enregistrer chaque mutation, prendre des instantanés de l'état, ou même procéder à de la visualisation d'état dans le temps.")]),t._v(" "),s("p",[t._v("Utiliser l'état du store dans un composant implique simplement de retourner l'état dans une "),s("em",[t._v("propriété calculée")]),t._v(", car l'état du store est réactif. Déclencher des changements signifie simplement d'acter des mutations dans les méthodes du composant.")]),t._v(" "),s("p",[t._v("Voici un exemple de l'"),s("a",{attrs:{href:"https://jsfiddle.net/n9jmu5v7/1269/",target:"_blank",rel:"noopener noreferrer"}},[t._v("application de comptage Vuex la plus basique"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("Ensuite, nous allons examiner chaque concept de base plus en détails, et commençons avec l'"),s("RouterLink",{attrs:{to:"/fr/guide/state.html"}},[t._v("État")]),t._v(".")],1)])}),[],!1,null,null,null);e.default=n.exports}}]);